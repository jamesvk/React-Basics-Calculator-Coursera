.App {
    position: relative; /* so the absolute child uses this as a reference */
    width: 260px;
    height: 360px;
}

.calculatorShell {
    background-color: var(--calc-surface);
    align-items: stretch;  /* children fill their tracks */
    position: absolute;
    flex-shrink: 0;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -55%); /* perfect centering */
    z-index: 3;
    width: 100%;
    
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
    grid-template-areas: "title"
                         "display"
                         "pad";
    /* gap: 0; */
    gap: var(--space-2);
    padding: var(--space-2) var(--space-2) var(--space-3);
    margin: 0 auto;
    backdrop-filter: blur(18px);
    border-radius: var(--radius-md);
    box-shadow:
    0 0 30px rgba(138, 92, 255, 0.20), /* glow */
    0 18px 36px rgba(0, 0, 0, 0.65);  /* depth */    
}

.calculatorShell > * {
    margin-block: 0;
    min-width: 0;
    max-width: 100%;
}

.calculator-header {
    grid-area: title;
    padding-top: var(--space-2);
    padding-bottom: 0;
}

.calc-title {
    max-width: 100%;
    text-align: center;
    font-family: 'Press Start 2P', cursive;
    color: var(--accent);
    text-shadow:
    0 0 1px var(--accent),
    1.5px 1px 2px rgba(204, 255, 0, .6);
}

.display {
    grid-area: display;
    position: relative;
    overflow: hidden; /* clip pseudo background to this area */
    display: grid;
    gap: var(--space-1);
}

.display-row {
    text-align: center;
    text-align: right;
    padding: 0.45rem 0.7rem;
    border-radius: var(--radius-sm);
}

.display-result-row {
    background:
        radial-gradient(
            circle at center,
            rgba(184,148,255,0.45),
            rgba(184,148,255,0.18) 55%,
            transparent 95%
        ),
        rgba(184,148,255,0.20);

    font-family: 'Orbitron', sans-serif;
    color: rgba(232,255,122,0.95);
    font-size: var(--font-size-h5);

    text-shadow:
        0 0 8px rgba(184,148,255,.9),
        0 0 3px rgba(138, 92, 255, .2);

    box-shadow:
        inset 0 0 12px rgba(255,255,255,0.05),
        0 2px 10px rgba(0,0,0,0.45);
}

#number-input {
    width: 100%;
    /* Off-white panel */
    background: #F8F8FA; /* slightly off-white */
    color: rgba(0,0,0,.55);         /* clean dark text */

    /* border-top: .15px solid rgba(0,0,0,.5);
    border-bottom: .15px solid rgba(0,0,0,.5);
    border-left: .1px solid rgba(0,0,0,.35);
    border-right: .1px solid rgba(0,0,0,.35); */
    border-radius: var(--radius-sm);
    border: 0.5px solid rgba(0,0,0,0.35);


    font-family: 'Orbitron', sans-serif;
    font-size: var(--font-size-h6);
    letter-spacing: 0.03em;

    text-align: center; /* centers placeholder AND typed text */
    text-shadow:
        0 1px 2px rgba(255, 255, 255, 0.55),
        0 0 6px rgba(0, 0, 0, 0.25);
    outline: none;

    /* subtle premium shadow */
    box-shadow:
        inset 0 1px 3px rgba(0,0,0,.3),
        0 1px 5px rgba(0,0,0,.1);

    padding: 0.4rem 0.7rem;
}

#number-input::-webkit-outer-spin-button,
#number-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

#number-input::placeholder {
    color: rgba(0,0,0,.55);
    font-family: inherit;
    font-style: italic;   /* <â€” italic placeholder */
    text-align: center;
}

.keypad {
    grid-area: pad;
    display: grid;
    grid-template-columns: repeat(4,1fr);
    grid-template-areas:
        "seven  eight  nine   add"
        "four   five   six    minus"
        "one    two    three  times"
        "resetR zero   equals divide";
        /* "test   test   test   test";
        "resetI zero   resetR divide"
        "equals equals equals equals"; */
    gap: var(--space-1);
    margin-top: var(--space-2);
}

.keypad button {
    padding: 0.35rem 0;
    border: none;
    border-radius: var(--radius-sm);
    font-family: 'Orbitron', sans-serif;
    font-size: var(--font-size-h6);
    letter-spacing: 0.04em;
    cursor: pointer;
    transition: 160ms ease;
    background: rgba(196,158,255,0.28);
    color: rgba(232,255,122,0.95);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(184,148,255,0.6); 
    /* border: 1PX solid rgba(255, 255, 255, .75); */

    box-shadow:
        0 0 10px rgba(184,148,255,0.4),
        inset 0 0 8px rgba(255,255,255,0.1);
}

.keypad button:active {
    transform: translateY(1px);
    box-shadow:
        0 0 2px rgba(0,0,0,0.2) inset;
}

/* Number keys */
.key-seven { grid-area: seven; }
.key-eight { grid-area: eight; }
.key-nine  { grid-area: nine; }

.key-four  { grid-area: four; }
.key-five  { grid-area: five; }
.key-six   { grid-area: six; }

.key-one   { grid-area: one; }
.key-two   { grid-area: two; }
.key-three { grid-area: three; }

/* .key-reset-input  { grid-area: resetI; } */
.key-reset-result { grid-area: resetR; }
.key-zero         { grid-area: zero; }
.key-equals       { grid-area: equals}

/* Operators */
.op-add    { grid-area: add; }
.op-minus  { grid-area: minus; }
.op-times  { grid-area: times; }
.op-divide { grid-area: divide; }

/* Equals */
.op-equals { 
    /* grid-area: equals; */
    grid-area: test;
    border-radius: 0 0 var(--radius-md) var(--radius-md);
}